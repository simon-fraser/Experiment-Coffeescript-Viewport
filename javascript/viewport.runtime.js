// Generated by CoffeeScript 1.8.0

/*
Generating Viewport Details
Simon Fraser <http://simonf.co.uk> [@symatree]
CoffeeScript Experiment
 */

(function() {
  var viewportsize;

  viewportsize = function() {
    var heightIs, widthIs;
    widthIs = window.innerWidth;
    heightIs = window.innerHeight;
    $('.js-dimensions [role="dynamic"]').html(widthIs + " x " + heightIs);
    return $.ajax({
      url: 'system.php',
      dataType: 'json',
      success: function(environment_data) {
        var browser_string, os_string;
        browser_string = environment_data.browser.name + ' ' + environment_data.browser.majorver;
        if (environment_data.browser.minorver !== '' && environment_data.browser.minorver !== '0') {
          browser_string += '.' + environment_data.browser.minorver;
        }
        os_string = ' On ' + environment_data.os;
        return $('.js-environment [role="dynamic"]').html(browser_string + os_string);
      }
    });
  };

  viewportsize();

  $(window).resize(function() {
    return viewportsize();
  });

}).call(this);
